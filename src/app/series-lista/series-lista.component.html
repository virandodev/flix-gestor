<div class="container my-5">
  <mat-accordion>
    <mat-expansion-panel expanded>
      <mat-expansion-panel-header>
        <mat-panel-title>
          <div class="title">{{ titulo }}</div>
        </mat-panel-title>
      </mat-expansion-panel-header>

      @for(serie of serieExemplo; track serie.id) {
        <div class="content">
          <div class="image">
            @if(serie.imageUrl) {
              <img [src]="imagePath + serie.imageUrl" width="125" height="110" [alt]="serie.nome" />
            } @else {
              <img [src]="imagePath + 'indisponivel.png'" width="125" height="110" [alt]="serie.nome" />
            }
          </div>
          <div class="infos">
            <div class="buttons">
              <button class="btn btn-secondary">{{ serie.nome }}</button>
              <button class="btn btn-warning" [ngClass]="getStreamingColor(serie.streaming)">{{ serie.streaming }}</button>
            </div>
            <div class="texts">
              <h3>T01 -> E02</h3>
              <h4>{{ serie.descricao }}</h4>
            </div>
          </div>
          <div class="icons">
            <div class="circle missing">
              @if(serie.episodiosRestantes > 0) {
                +{{ serie.episodiosRestantes }}
              } @else {
                0
              }
            </div>
            <div class="circle check" (click)="onFinalizado($index)">
              <i class="bi bi-check-circle" [class.bi-emoji-laughing]="serie.episodiosRestantes < 0"></i>
            </div>
          </div>
        </div>
      }

    </mat-expansion-panel>
  </mat-accordion>
</div>

<app-stats [ultimaSerie]="ultimaSerieVista" (desfazerCall)="voltarSerieVista($event)"/>
